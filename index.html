<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏∏‡∏î‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å</title>
    <style>
        /* --- CSS STYLING --- */
        
        /* 1. Basic Setup & Fonts */
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;700&display=swap');

        :root {
            --bg-color: #f3e5f5; /* ‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô (Light Purple) */
            --primary-color: #4a148c; /* ‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏Ç‡πâ‡∏° (Dark Purple) */
            --accent-color: #d81b60;   /* ‡πÅ‡∏î‡∏á/‡∏ä‡∏°‡∏û‡∏π‡πÄ‡∏Ç‡πâ‡∏° (Deep Pink/Red) */
            --white-color: #ffffff;
            --disabled-color: #c0c0c0;
            --light-purple: #ede7f6;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'IBM Plex Sans Thai', sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            display: flex;
            justify-content: center;
            /* ‚ùóÔ∏è‚ùóÔ∏è‚ùóÔ∏è [‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà 1] ‚ùóÔ∏è‚ùóÔ∏è‚ùóÔ∏è */
            /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å center ‡πÄ‡∏õ‡πá‡∏ô flex-start ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô */
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }

        /* 2. Main Container */
        .container {
            background-color: var(--white-color);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            width: 100%;
            max-width: 400px;
            /* ‚ùóÔ∏è‚ùóÔ∏è‚ùóÔ∏è [‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà 2] ‚ùóÔ∏è‚ùóÔ∏è‚ùóÔ∏è */
            /* ‡∏•‡∏ö 'overflow: hidden;' ‡∏≠‡∏≠‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏î‡πâ */
            text-align: center;
            z-index: 10; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥ */
        }

        /* 3. Stage Management */
        .stage {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .stage.active {
            display: flex;
        }

        /* (CSS ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) */
        h1, h2 {
            font-weight: 700;
            color: var(--primary-color);
        }
        h2 {
            font-size: 1.25rem;
        }
        p {
            font-size: 1.1rem;
            line-height: 1.6;
        }
        .btn {
            font-family: 'IBM Plex Sans Thai', sans-serif;
            font-size: 1.2rem;
            font-weight: 700;
            background-color: var(--accent-color);
            color: var(--white-color);
            border: none;
            border-radius: 50px;
            padding: 0.8rem 2.5rem;
            cursor: pointer;
            transition: transform 0.2s ease, background-color 0.2s ease;
            width: 100%;
            max-width: 250px;
        }
        .btn:hover {
            transform: scale(1.05);
        }
        .btn:disabled {
            background-color: var(--disabled-color);
            cursor: not-allowed;
            transform: scale(1);
        }
        .name-input {
            font-family: 'IBM Plex Sans Thai', sans-serif;
            font-size: 1rem;
            padding: 0.8rem;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            width: 100%;
            text-align: center;
        }
        .name-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(216, 27, 96, 0.3);
        }
        #qrImage {
            width: 100%;
            max-width: 250px;
            height: auto;
            border-radius: 10px;
            margin-top: 1rem;
        }
        .reveal-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-color);
            margin-top: 1rem;
        }
        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            width: 100%;
        }
        .choice-btn {
            font-family: 'IBM Plex Sans Thai', sans-serif;
            font-size: 1rem;
            background-color: var(--white-color);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            padding: 0.8rem 1rem;
            cursor: pointer;
            width: 100%;
            text-align: center;
            transition: background-color 0.2s, color 0.2s, transform 0.2s;
        }
        .choice-btn:hover {
            background-color: var(--light-purple);
            transform: scale(1.02);
        }
        .choice-btn.selected {
            background-color: var(--accent-color);
            color: var(--white-color);
            border-color: var(--accent-color);
        }
        #summary-container {
            margin-top: 1.5rem;
            text-align: left;
            width: 100%;
            border-top: 2px dashed var(--disabled-color);
            padding-top: 1.5rem;
        }
        .summary-item {
            margin-bottom: 1rem;
        }
        .summary-item p {
            font-size: 0.9rem;
            margin: 0.25rem 0;
            line-height: 1.4;
        }
        @keyframes float {
            0% {
                transform: translateY(0px) translateX(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) translateX(10px) rotate(10deg);
            }
            100% {
                transform: translateY(0px) translateX(0px) rotate(0deg);
            }
        }
        .floating-emoji {
            position: fixed;
            z-index: 5;
            font-size: 2.5rem;
            user-select: none;
            cursor: pointer;
            animation: float 6s ease-in-out infinite;
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
            opacity: 0.7;
        }
        .floating-emoji:hover {
            opacity: 1;
            transform: scale(1.2);
        }
        .floating-emoji.hidden {
            transform: scale(0) rotate(360deg);
            opacity: 0;
        }
        #emoji-1 { top: 15%; left: 8%; animation-delay: -1s; }
        #emoji-2 { top: 40%; right: 10%; animation-delay: -3s; }
        #emoji-3 { top: 70%; left: 12%; animation-delay: -5s; }
        #emoji-4 { top: 80%; right: 15%; animation-delay: -2s; }

    </style>
</head>
<body>

    <audio id="bgm" src="BGM.wav" loop
        onerror="console.log('‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå BGM.wav ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠!')">
    </audio>

    <span class="floating-emoji" id="emoji-1">üíñ</span>
    <span class="floating-emoji" id="emoji-2">‚ú®</span>
    <span class="floating-emoji" id="emoji-3">üíú</span>
    <span class="floating-emoji" id="emoji-4">ü•∞</span>


    <div class="container">
        <div id="stage-1" class="stage active">
            <h1>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á</h1>
            <p>‡∏ñ‡πâ‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢!</p>
            <button id="playButton" class="btn">PLAY</button>
        </div>

        <div id="stage-1-5" class="stage">
            <h2>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ä‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ</h2>
            <button id="startQuestionsButton" class="btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢!</button>
        </div>

        <div id="stage-2" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 1: ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</h2>
            <input type="text" id="nameInput" class="name-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...">
            <button id="nameNextButton" class="btn" disabled>NEXT</button>
        </div>
        
        <div id="stage-3" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 2: ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡∏ñ‡πâ‡∏≤‡∏ä‡∏¥‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 900 ‡πÄ‡∏°‡∏ï‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡∏≠‡∏µ‡∏Å 1800 ‡πÄ‡∏°‡∏ï‡∏£ ‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å 1230 ‡πÄ‡∏°‡∏ï‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏ß‡πÑ‡∏õ‡∏ó‡∏≤‡∏á 14 ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤‡∏à‡∏≤‡∏Å‡∏°‡∏∏‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î 1234 ‡πÄ‡∏°‡∏ï‡∏£ ‡∏ä‡∏¥‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà</h2>
            <div class="choices-container" data-question-id="q2">
                <button class="choice-btn">‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ</button>
                <button class="choice-btn">2401.78 ‡πÄ‡∏°‡∏ï‡∏£</button>
                <button class="choice-btn">‡∏≠‡∏∑‡∏°‡∏°‡∏°‡∏°‡∏°‡∏°‡∏° ‡∏ô‡πà‡∏≤‡∏à‡∏∞ 3333.33 ‡πÄ‡∏°‡∏ï‡∏£</button>
                <button class="choice-btn">‡∏ä‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏≠‡∏Å ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏Å‡∏£‡πá‡∏õ‡πÑ‡∏õ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤</button>
            </div>
            <button id="q2NextButton" class="btn" disabled>NEXT</button>
        </div>
        
        <div id="stage-4" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 3: ‡∏à‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ä‡∏¥‡∏ô</h2>
             <div class="choices-container" data-question-id="q3">
                <button class="choice-btn">‡∏Å‡∏¥‡∏ô > ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° > ‡∏ô‡∏≠‡∏ô</button>
                <button class="choice-btn">‡∏Å‡∏¥‡∏ô > ‡∏ô‡∏≠‡∏ô > ‡∏Å‡∏¥‡∏ô > ‡∏ô‡∏≠‡∏ô > ‡∏Å‡∏¥‡∏ô</button>
                <button class="choice-btn">‡∏ô‡∏≠‡∏ô > ‡∏ô‡∏≠‡∏ô> ‡∏ô‡∏≠‡∏ô > ‡∏ô‡∏≠‡∏ô</button>
                <button class="choice-btn">‡∏Å‡∏¥‡∏ô > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°> ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠ > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏≠‡∏µ‡∏Å</button>
            </div>
            <button id="q3NextButton" class="btn" disabled>NEXT</button>
        </div>

        <div id="stage-5" class="stage">
            <h2>‡∏Ç‡πâ‡∏≠ 4: ‡∏ñ‡πâ‡∏≤‡∏ä‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏à‡∏°‡∏ô‡πâ‡∏≥ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£</h2>
             <div class="choices-container" data-question-id="q4">
                <button class="choice-btn">‡πÄ‡∏≠‡∏≤‡∏´‡πà‡∏ß‡∏á‡∏¢‡∏≤‡∏á‡πÉ‡∏´‡πâ</button>
                <button class="choice-btn">‡πÑ‡∏°‡πà‡∏ä‡πà‡∏ß‡∏¢ ‡πÑ‡∏≠‡πà‡∏ä‡∏¥‡∏ô‡∏°‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡πá‡∏ô</button>
                <button class="choice-btn">‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏õ‡∏µ‡∏î‡πÇ‡∏ö‡πä‡∏ó‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏±‡πà‡∏á‡πÑ‡∏õ‡∏à‡∏µ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏∑‡∏≠‡∏î‡∏≥‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢</button>
                <button class="choice-btn">‡∏Å‡∏•‡∏≤‡∏¢‡∏£‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏î‡πÇ‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå t-rex ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏õ‡∏ä‡πà‡∏ß‡∏¢</button>
            </div>
            <button id="q4NextButton" class="btn" disabled>NEXT</button>
        </div>

        <div id="stage-6" class="stage">
            <h2>‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πà‡∏Ñ‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Ç‡∏≠‡∏á jittipat ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà!!! ‡πÇ‡∏≠‡∏ô‡∏ï‡∏±‡∏á‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ú‡∏°‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì</h2>
            <img src="QR.jpg" alt="QR Image" id="qrImage" onerror="this.src='https://via.placeholder.com/250x250/d81b60/ffffff?text=QR.jpg'; this.alt='‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏π‡∏õ QR.jpg'">
            <p class="reveal-text">‡πÅ‡∏´‡∏∞‡πÜ</p>
            <div id="summary-container">
                </div>
        </div>
    </div>

    <script>
        // --- JAVASCRIPT LOGIC (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á) ---

        const stages = document.querySelectorAll('.stage');
        const userAnswers = {};
        const correctAnswers = {
            q2: "‡∏ä‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏≠‡∏Å ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏Å‡∏£‡πá‡∏õ‡πÑ‡∏õ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤",
            q3: "‡∏Å‡∏¥‡∏ô > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°> ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠ > ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏≠‡∏µ‡∏Å",
            q4: "‡πÑ‡∏°‡πà‡∏ä‡πà‡∏ß‡∏¢ ‡πÑ‡∏≠‡πà‡∏ä‡∏¥‡∏ô‡∏°‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡πá‡∏ô"
        };
        const questionText = {
            q2: "‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏ä‡∏¥‡∏ô?",
            q3: "‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ä‡∏¥‡∏ô?",
            q4: "‡∏ñ‡πâ‡∏≤‡∏ä‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏à‡∏°‡∏ô‡πâ‡∏≥?"
        };
        function showStage(stageId) {
            stages.forEach(stage => stage.classList.remove('active'));
            const activeStage = document.getElementById(stageId);
            if (activeStage) {
                activeStage.classList.add('active');
            }
        }
        function generateSummary() {
            const container = document.getElementById('summary-container');
            let summaryHTML = '<h3>‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</h3>';
            
            for (const qId in correctAnswers) {
                const userAns = userAnswers[qId] || "<i>‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</i>";
                const correctAns = correctAnswers[qId];
                const isCorrect = userAns === correctAns;

                summaryHTML += `
                    <div class="summary-item">
                        <p><strong>${questionText[qId]}</strong></p>
                        <p style="color: ${isCorrect ? 'green' : 'red'};">
                            ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ${userAns} ${isCorrect ? '‚úÖ' : '‚ùå'}
                        </p>
                        ${!isCorrect ? `<p style="color: green;">‡πÄ‡∏â‡∏•‡∏¢: ${correctAns}</p>` : ''}
                    </div>
                `;
            }
            container.innerHTML = summaryHTML;
        }
        const bgm = document.getElementById('bgm');
        let isMusicPlaying = false; 
        document.getElementById('playButton').addEventListener('click', () => {
            showStage('stage-1-5');
            if (!isMusicPlaying) {
                bgm.play();
                isMusicPlaying = true;
            }
        });
        document.getElementById('startQuestionsButton').addEventListener('click', () => showStage('stage-2'));
        const nameInput = document.getElementById('nameInput');
        const nameNextButton = document.getElementById('nameNextButton');
        nameInput.addEventListener('input', () => {
            nameNextButton.disabled = nameInput.value.trim() === '';
        });
        nameNextButton.addEventListener('click', () => showStage('stage-3'));
        const choiceContainers = document.querySelectorAll('.choices-container');
        choiceContainers.forEach(container => {
            const questionId = container.dataset.questionId;
            const choices = container.querySelectorAll('.choice-btn');
            const nextButton = container.nextElementSibling;

            choices.forEach(choice => {
                choice.addEventListener('click', () => {
                    choices.forEach(btn => btn.classList.remove('selected'));
                    choice.classList.add('selected');
                    userAnswers[questionId] = choice.textContent;
                    nextButton.disabled = false;
                });
            });
        });
        document.getElementById('q2NextButton').addEventListener('click', () => showStage('stage-4'));
        document.getElementById('q3NextButton').addEventListener('click', () => showStage('stage-5'));
        document.getElementById('q4NextButton').addEventListener('click', () => {
            generateSummary();
            showStage('stage-6');
        });
        const emojis = document.querySelectorAll('.floating-emoji');
        emojis.forEach(emoji => {
            emoji.addEventListener('click', () => {
                emoji.classList.add('hidden');
                setTimeout(() => {
                    emoji.classList.remove('hidden');
                }, 3000);
            });
        });

    </script>

</body>
</html>
